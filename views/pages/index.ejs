<!DOCTYPE html>
<html>

<head>
  <% include ../partials/header.ejs %>
</head>

<body>

  <% include ../partials/nav.ejs %>

  <div class="shadow p-3 mb-5 bg-white rounded">
    <div class="container">

      <form>
        <div class="form-group row">
          <label for="weight" class="col-sm-2 col-form-label">Weight (oz)</label>
            <input type="number" class="form-control" id="weight">
        </div>

        <div class="form-group row">
          <label for="MailType" class="col-sm-2 col-form-label">Mail Type</label>
          <select class="form-control" id="mailType">
            <option name="stamped">Letters (Stamped)</option>
            <option name="metered">Letters (Metered)</option>
            <option name="flats">Large Envelopes (Flats)</option>
            <option name="firstClass">First-Class Package Serviceâ€”Retail</option>
          </select>
        </div>
        <button type="button" class="btn btn-primary" onclick="calculate()">Calculate</button>
      </form>


      <div id="response"></div>
    </div>
  </div>

  <% include ../partials/footer.ejs %>

  <script>
    function calculate() {

      //DO FORM VALIDATION!

      // make the ajax request using jquery's load method
      $('#response').load('/mailCost', {
          'weight' : document.getElementById('weight').value,
          'type'   : document.getElementById('mailType').value
      },

      //call back function
      function (err, data) {
          console.log("load completed");
      });
    }
    
  </script>
</body>

</html>